<header class="header">
  <h1>Transactions</h1>
</header>

<div class="list-container">
  @for (t of transactionService.transactions(); track t.id) {
    <!-- Added (click) and a class for styling -->
    <div class="list-item clickable" (click)="viewDetails(t)">
      <div class="item-info">
        <span class="item-date">{{ t.transactionDate | date:'mediumDate' }}</span>
        <span class="item-type">{{ t.type | titlecase }}</span>
      </div>
      <span [class]="t.type" class="item-amount">
        {{ t.amount | currency }}
      </span>
    </div>
  } @empty {
    <div class="empty-state">
      <p>No transactions found. Tap + to add one!</p>
    </div>
  }
</div>

<button class="fab" (click)="showAddModal.set(true)" aria-label="Add transaction">
  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="fab-icon">
    <path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" />
  </svg>
</button>

<!-- Add Modal -->
@if (showAddModal()) {
  <app-add-transaction
    (close)="showAddModal.set(false)"
    (saved)="handleAdd($event)">
  </app-add-transaction>
}

<!-- Details Modal -->
@if (selectedTransaction()) {
  <app-transaction-detail
    [transaction]="selectedTransaction()!"
    (close)="closeDetails()">
  </app-transaction-detail>
}
